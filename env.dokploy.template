# ============================================================================
# WhatSlang Environment Variables for Dokploy
# ============================================================================
# Copy these variables to Dokploy UI under Application â†’ Environment Variables
# DO NOT commit actual values to git!
# ============================================================================

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# Dokploy will create a PostgreSQL container automatically
# Generate a strong password: openssl rand -base64 32

DB_NAME=whatslang
DB_USER=whatslang
DB_PASSWORD=CHANGE_ME_TO_SECURE_PASSWORD

# ============================================================================
# WHATSAPP API CONFIGURATION (REQUIRED)
# ============================================================================
# You need a running instance of go-whatsapp-web-multidevice
# Get it from: https://github.com/aldinokemal/go-whatsapp-web-multidevice

# WhatsApp API base URL (without trailing slash)
WHATSAPP_API_URL=https://your-whatsapp-api.example.com

# Option 1: Using API Token (recommended)
WHATSAPP_API_TOKEN=your_api_token_here
WHATSAPP_PHONE_NUMBER_ID=your_phone_number_id

# Option 2: Using Basic Auth
WHATSAPP_API_USER=your_username
WHATSAPP_API_PASSWORD=your_password

# ============================================================================
# LLM API CONFIGURATION (At least one required)
# ============================================================================

# OpenAI Configuration
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_MODEL=gpt-4o-mini

# Anthropic Configuration (alternative to OpenAI)
ANTHROPIC_API_KEY=sk-ant-your-anthropic-key-here

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================

# Debug mode (set to false in production)
DEBUG=false

# Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# CORS Origins (comma-separated, include your domain)
CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# Frontend domain (for Dokploy SSL configuration)
FRONTEND_DOMAIN=yourdomain.com

# ============================================================================
# POSTGRESQL PERFORMANCE TUNING (Optional)
# ============================================================================
# Adjust based on your server resources

POSTGRES_SHARED_BUFFERS=256MB
POSTGRES_EFFECTIVE_CACHE_SIZE=1GB
POSTGRES_MAINTENANCE_WORK_MEM=64MB
POSTGRES_CHECKPOINT_COMPLETION_TARGET=0.9
POSTGRES_WAL_BUFFERS=16MB
POSTGRES_DEFAULT_STATISTICS_TARGET=100
POSTGRES_RANDOM_PAGE_COST=1.1
POSTGRES_EFFECTIVE_IO_CONCURRENCY=200
POSTGRES_WORK_MEM=4MB
POSTGRES_MIN_WAL_SIZE=1GB
POSTGRES_MAX_WAL_SIZE=4GB

# ============================================================================
# NOTES
# ============================================================================
# 
# 1. Required Variables:
#    - DB_PASSWORD
#    - WHATSAPP_API_URL
#    - WHATSAPP_API_TOKEN (or WHATSAPP_API_USER + WHATSAPP_API_PASSWORD)
#    - OPENAI_API_KEY (or ANTHROPIC_API_KEY)
#
# 2. Setting Variables in Dokploy:
#    - Go to your application in Dokploy
#    - Click on "Environment Variables"
#    - Add each variable with its value
#    - Click "Save"
#    - Redeploy the application
#
# 3. Security Best Practices:
#    - Use strong, randomly generated passwords
#    - Never commit this file with real values
#    - Rotate API keys regularly
#    - Use Dokploy's secret management
#    - Enable SSL/TLS for all domains
#
# 4. Getting API Keys:
#    - OpenAI: https://platform.openai.com/api-keys
#    - Anthropic: https://console.anthropic.com/
#    - WhatsApp API: Deploy your own instance
#
# 5. Testing Configuration:
#    After deployment, test with:
#    curl https://yourdomain.com/api/health
#
# ============================================================================

